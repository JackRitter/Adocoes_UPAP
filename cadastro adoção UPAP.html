<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Adoção - UPAP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column; /* Changed to column to stack logo and container */
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px 0; /* Add some padding for better spacing on smaller screens */
        }
        .logo-container {
            margin-bottom: 20px;
            text-align: center;
        }
        .logo-container img {
            max-width: 350px; /* Adjust logo size as needed */
            height: auto;
            border-radius: 0%; /* Optional: for a round logo */
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
        }
        fieldset {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 20px;
        }
        legend {
            font-weight: bold;
            color: #007bff; /* A nice blue for legends */
            padding: 0 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }
        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="date"],
        .form-group input[type="file"],
        .form-group select {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .form-group input[type="file"] {
            padding: 5px; /* Adjust padding for file input */
        }
        .form-group button {
            width: 100%;
            padding: 10px 15px;
            background-color: #28a745; /* Green for submit */
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .form-group button:hover {
            background-color: #218838;
        }
        .preview-image {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: none; /* Hidden by default */
        }
        .image-preview-container {
            text-align: center;
        }
        .error-message {
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
            display: none; /* Hidden by default */
        }
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .checkbox-group input[type="checkbox"] {
            margin-right: 10px;
            width: auto; /* Override default input width */
        }
        .conditional-field {
            margin-left: 25px; /* Indent conditional fields */
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="logo upap.jpg" alt="Logo da UPAP">
    </div>
    <div class="container">
        <h1>Cadastro de Adoção</h1>
        <form action="#" method="post" enctype="multipart/form-data">
            <fieldset>
                <legend>Dados do Adotante</legend>
                <div class="form-group">
                    <label for="nomeAdotante">Nome Completo:</label>
                    <input type="text" id="nomeAdotante" name="nomeAdotante" required>
                </div>
                <div class="form-group">
                    <label for="cpfAdotante">CPF:</label>
                    <input type="text" id="cpfAdotante" name="cpfAdotante" pattern="\d{3}\.?\d{3}\.?\d{3}-?\d{2}" placeholder="Ex: 123.456.789-00" maxlength="14" required onblur="validarCPF(this.value)">
                    <small>Formato: XXX.XXX.XXX-XX (somente números ou com pontos e hífen)</small>
                    <div id="cpfError" class="error-message">CPF inválido.</div>
                </div>
                <div class="form-group">
                    <label for="emailAdotante">E-mail:</label>
                    <input type="email" id="emailAdotante" name="emailAdotante" required>
                </div>
                <div class="form-group">
                    <label for="telefoneAdotante">Telefone:</label>
                    <input type="tel" id="telefoneAdotante" name="telefoneAdotante" pattern="[0-9]{2}[0-9]{4,5}[0-9]{4}" placeholder="Ex: 9912345678" required>
                    <small>Formato: DDXXXXXXXXX (somente números)</small>
                </div>
                <div class="form-group">
                    <label for="enderecoAdotante">Endereço:</label>
                    <input type="text" id="enderecoAdotante" name="enderecoAdotante" required>
                </div>
            </fieldset>

            <fieldset>
                <legend>Dados do Animal e Adoção</legend>
                <div class="form-group">
                    <label for="nomeAnimal">Nome do Animal Adotado:</label>
                    <input type="text" id="nomeAnimal" name="nomeAnimal" required>
                </div>
                <div class="form-group">
                    <label for="racaAnimal">Raça:</label>
                    <input type="text" id="racaAnimal" name="racaAnimal">
                </div>
                <div class="form-group">
                    <label for="corAnimal">Cor:</label>
                    <input type="text" id="corAnimal" name="corAnimal">
                </div>
                <div class="form-group">
                    <label for="sexoAnimal">Sexo:</label>
                    <select id="sexoAnimal" name="sexoAnimal">
                        <option value="">Selecione</option>
                        <option value="Macho">Macho</option>
                        <option value="Femea">Fêmea</option>
                        <option value="NaoInformado">Não Informado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="dataAdocao">Data da Adoção:</label>
                    <input type="date" id="dataAdocao" name="dataAdocao" required>
                </div>

                <div class="form-group">
                    <label>Castrado:</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="castradoSim" name="castrado" value="Sim">
                        <label for="castradoSim">Sim</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Desverminado 1ª Dose:</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="desverminado1aDoseSim" name="desverminado1aDose" value="Sim" onchange="toggleDateField('desverminado1aDoseSim', 'desverminado1aDoseDate')">
                        <label for="desverminado1aDoseSim">Sim</label>
                    </div>
                    <div id="desverminado1aDoseDate" style="display: none;" class="conditional-field">
                        <div class="form-group">
                            <label for="dataDesverminado1aDose">Data da 1ª Dose:</label>
                            <input type="date" id="dataDesverminado1aDose" name="dataDesverminado1aDose">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Desverminado 2ª Dose:</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="desverminado2aDoseSim" name="desverminado2aDose" value="Sim" onchange="toggleDateField('desverminado2aDoseSim', 'desverminado2aDoseDate')">
                        <label for="desverminado2aDoseSim">Sim</label>
                    </div>
                    <div id="desverminado2aDoseDate" style="display: none;" class="conditional-field">
                        <div class="form-group">
                            <label for="dataDesverminado2aDose">Data da 2ª Dose:</label>
                            <input type="date" id="dataDesverminado2aDose" name="dataDesverminado2aDose">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Vacinado:</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="vacinadoSim" name="vacinado" value="Sim" onchange="toggleDateField('vacinadoSim', 'vacinadoDate')">
                        <label for="vacinadoSim">Sim</label>
                    </div>
                    <div id="vacinadoDate" style="display: none;" class="conditional-field">
                        <div class="form-group">
                            <label for="dataVacinacao">Data da Vacinação:</label>
                            <input type="date" id="dataVacinacao" name="dataVacinacao">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="fotoAnimal">Foto do Animal Adotado:</label>
                    <input type="file" id="fotoAnimal" name="fotoAnimal" accept="image/*" onchange="previewFile(this, 'imagePreviewAnimal')">
                </div>
                <div class="image-preview-container">
                    <img src="#" alt="Prévia da foto do animal" class="preview-image" id="imagePreviewAnimal">
                </div>
                <div class="form-group">
                    <label for="fotoAdocao">Foto da Adoção:</label>
                    <input type="file" id="fotoAdocao" name="fotoAdocao" accept="image/*" onchange="previewFile(this, 'imagePreviewAdocao')">
                </div>
                <div class="image-preview-container">
                    <img src="#" alt="Prévia da foto da adoção" class="preview-image" id="imagePreviewAdocao">
                </div>
            </fieldset>

            <div class="form-group">
                <button type="submit">Cadastrar Adoção</button>
            </div>
        </form>
    </div>

    <script>
        function previewFile(input, imgId) {
            const preview = document.getElementById(imgId);
            const file = input.files[0];
            const reader = new FileReader();

            reader.addEventListener("load", () => {
                // convert image file to base64 string
                preview.src = reader.result;
                preview.style.display = 'block'; // Show the image
            }, false);

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
                preview.style.display = 'none'; // Hide the image if no file selected
            }
        }

        function validarCPF(cpf) {
            cpf = cpf.replace(/[^\d]+/g, ''); // Remove caracteres não numéricos
            const cpfError = document.getElementById('cpfError');

            if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) {
                cpfError.style.display = 'block';
                return false;
            }

            let sum = 0;
            let remainder;

            for (let i = 1; i <= 9; i++) {
                sum = sum + parseInt(cpf.substring(i - 1, i)) * (11 - i);
            }
            remainder = (sum * 10) % 11;

            if ((remainder === 10) || (remainder === 11)) {
                remainder = 0;
            }
            if (remainder !== parseInt(cpf.substring(9, 10))) {
                cpfError.style.display = 'block';
                return false;
            }

            sum = 0;
            for (let i = 1; i <= 10; i++) {
                sum = sum + parseInt(cpf.substring(i - 1, i)) * (12 - i);
            }
            remainder = (sum * 10) % 11;

            if ((remainder === 10) || (remainder === 11)) {
                remainder = 0;
            }
            if (remainder !== parseInt(cpf.substring(10, 11))) {
                cpfError.style.display = 'block';
                return false;
            }

            cpfError.style.display = 'none';
            return true;
        }

        function toggleDateField(checkboxId, dateFieldId) {
            const checkbox = document.getElementById(checkboxId);
            const dateField = document.getElementById(dateFieldId);
            if (checkbox.checked) {
                dateField.style.display = 'block';
            } else {
                dateField.style.display = 'none';
                // Optionally clear the date fields when unchecked
                const dateInputs = dateField.querySelectorAll('input[type="date"]');
                dateInputs.forEach(input => input.value = '');
            }
        }
    </script>
</body>
</html>